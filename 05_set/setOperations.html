<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>set operations</title>
    </head>
    <body>
        <!--
            并集： 对于给定的两个集合，返回一个包含两个集合中所有元素的新集合
            交集： 对于给定的两个集合，返回一个包含两个集合中共有元素的新集合
            差集： 对于给定的两个集合，返回一个包含所有存在于第一个集合不存在于第二个集合的元素的新集合
            子集： 验证一个给定集合是否是另一集合的子集
        -->
        <script src="set.js"></script>
        <script>
            Set.prototype.union = function(otherSet) {
                var unionSet = new Set();

                //将A集合中所有元素加到新集合中
                var values = this.values();
                for (var i = 0; i < values.length; i++) {
                    unionSet.add(values[i]);
                }

                //取出B集合中的元素，一一于A集合元素进行比较，如果A集合不存在，则加入新集合
                values = otherSet.values();
                for (var i = 0; i < values.length; i++) {
                    unionSet.add(values[i]);
                }
                return unionSet;
            }

            Set.prototype.intersection = function(otherSet) {
                //this: Set A
                //otherSet: Set B 
                var intersectionSet = new Set();

                //从Set A中取出元素，判断是否同时存在于Set B中，如果存在，则放入新集合中
                var values = this.values();
                for (var i = 0; i < values.length; i++) {
                    var item = values[i];
                    if (otherSet.has(item)) {
                        intersectionSet.add(item);
                    }
                }
                return intersectionSet;
            }


            Set.prototype.complement = function(otherSet) {
                //this: setA
                //otherSet: setB
                var complementSet = new Set();

                //取出A集合一个元素，判断是否同时存在于B集合中，不存在B中，则添加到新集合中
                var values = this.values();
                for (var i = 0; i < values.length; i++) {
                    var item = values[i];
                    if (!otherSet.has(item)) {
                        complementSet.add(item);
                    }
                }
                return complementSet;
            }

            Set.prototype.subset = function(otherSet) {
                //this: setA
                //otherSet: setB 

                var values = this.values();
                for (var i = 0; i < values.length; i++) {
                    var item = values[i];
                    if (!otherSet.has(item)) {
                        return false;
                    }
                }
                return true;
            }

            //create two sets: SetA and SetB
            var setA = new Set();
            setA.add('abc');
            setA.add('cba');
            setA.add('nba');
            var setB = new Set();
            setB.add('aaa');
            setB.add('nba');
            setB.add('cba');

            unionSet = setA.union(setB);
            alert(unionSet.values());
            
            //testing for intersection sets 
            var intersectionSet = setA.intersection(setB);
            alert(intersectionSet.values());

            //testing for complement set 
            var complementSet = setA.complement(setB);
            alert(complementSet.values());

            //testing for subset 
            alert(setA.subset(setB));
        </script>
    </body>
</html>